{"version":3,"file":"normas.js","sources":["../../src/js/lib/jqueryAdditions.js","../../node_modules/isobject/index.js","../../node_modules/is-plain-object/index.js","../../src/js/lib/helpers.js","../../src/js/mixins/base.js","../../src/js/mixins/events.js","../../src/js/mixins/content.js","../../src/js/mixins/navigation.js","../../src/js/minimalNormas.js","../../src/js/mixins/mutations.js","../../src/js/view.js","../../src/js/mixins/views.js","../../src/js/index.js"],"sourcesContent":["$.fn.each$ = function (handle) {\n  return this.each((index, element) => {\n    handle($(element), index);\n  });\n};\n\n$.fn.filter$ = function (handle) {\n  return this.filter((index, element) => handle($(element), index));\n};\n\n// [showOrHide[, duration[, callback]]]\n$.fn.slideToggleByState = function slideToggleByState(...a) {\n  if (this.length > 0) {\n    if (a.length > 0) {\n      if (a.shift()) {\n        this.slideDown(...a);\n      } else {\n        this.slideUp(...a);\n      }\n    } else {\n      this.slideToggle();\n    }\n  }\n  return this;\n};\n\n// http://css-tricks.com/snippets/jquery/mover-cursor-to-end-of-textarea/\n$.fn.focusToEnd = function focusToEnd() {\n  let $this = this.first();\n  if ($this.is('select, :checkbox, :radio')) {\n    $this.focus();\n  } else {\n    let val = $this.val();\n    $this.focus().val('').val(val);\n  }\n  return this;\n};\n\n$.fn.focusTo = function focusTo(caretPos) {\n  return this.each((index, element) => {\n    if (element.createTextRange) {\n      let range = element.createTextRange();\n      range.move('character', caretPos);\n      range.select();\n    } else if (element.selectionStart) {\n      element.focus();\n      element.setSelectionRange(caretPos, caretPos);\n    } else {\n      element.focus();\n    }\n  });\n};\n\n/*\n ** Returns the caret (cursor) position of the specified text field.\n ** Return value range is 0-oField.value.length.\n */\n$.fn.caretPosition = function caretPosition() {\n  // Initialize\n  let iCaretPos = 0;\n  let oField = this[0];\n\n  // IE Support\n  if (document.selection) {\n    // Set focus on the element\n    oField.focus();\n    // To get cursor position, get empty selection range\n    let oSel = document.selection.createRange();\n    // Move selection start to 0 position\n    oSel.moveStart('character', -oField.value.length);\n    // The caret position is selection length\n    iCaretPos = oSel.text.length;\n  } else if (oField.selectionStart != null) {\n    iCaretPos = oField.selectionStart;\n  }\n\n  // Return results\n  return iCaretPos;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","// Sufficient for Normas implementation of functions like from lodash\n\nexport isPlainObject from 'is-plain-object';\n\nexport const isArray = Array.isArray;\n\nexport function isFunction(v) {\n  return typeof v === 'function';\n}\n\nexport function isString(v) {\n  return typeof v === 'string';\n}\n\nexport function compact(array) {\n  return filter(array, v => v);\n}\n\nexport function debounce(func, wait) {\n  let timeoutId;\n  return (...args) => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(() => {\n      func(...args);\n    }, wait);\n  }\n}\n\nexport function groupBy(array, key) {\n  return array.reduce((grouped, item) => {\n    const groupKey = isFunction(key) ? key(item) : item[key];\n    (grouped[groupKey] || (grouped[groupKey] = [])).push(item);\n    return grouped;\n  }, {});\n}\n\nexport function groupByInArray(array, key) {\n  return array.reduce((grouped, item) => {\n    const groupKey = isFunction(key) ? key(item) : item[key];\n    const group = find(grouped, ([k]) => k === groupKey);\n    if (group) {\n      group[1].push(item);\n    } else {\n      grouped.push([groupKey, [item]]);\n    }\n    return grouped;\n  }, []);\n}\n\nexport function flatten(array) {\n  const result = [];\n  array.forEach(value => {\n    if (isArray(value)) {\n      result.push(...value);\n    } else {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nexport function deepMerge(destination, source) {\n  const result = Object.assign({}, destination);\n  Object.keys(source).forEach(key => {\n    if (source[key]) {\n      if (isPlainObject(destination[key]) && isPlainObject(source[key])) {\n        result[key] = deepMerge(destination[key], source[key]);\n      } else {\n        result[key] = source[key];\n      }\n    }\n  });\n  return result;\n}\n\nexport function filter(collection, conditions) {\n  return filterBase('filter', collection, conditions);\n}\n\nexport function find(collection, conditions) {\n  return filterBase('find', collection, conditions);\n}\n\nexport function map(collection, iteratee) {\n  return Array.prototype.map.call(collection, iteratee);\n}\n\nexport function mapValues(object, iteratee) {\n  const result = {};\n  Object.keys(object).forEach(key => {\n    result[key] = iteratee(object[key]);\n  });\n  return result;\n}\n\nexport function without(collection, ...values) {\n  return filter(collection, item => !values.includes(item));\n}\n\n// private\n\nfunction filterBase(baseName, collection, conditions) {\n  return Array.prototype[baseName].call(collection, makeConditionsMatch(conditions));\n}\n\nfunction makeConditionsMatch(conditions) {\n  if (isFunction(conditions)) {\n    return conditions;\n  } else {\n    const conditionsKeys = Object.keys(conditions);\n    return item => filterMatch(item, conditions, conditionsKeys);\n  }\n}\n\nfunction filterMatch(item, conditions, conditionsKeys) {\n  return conditionsKeys.find(key => conditions[key] !== item[key]) === undefined;\n}\n","import { isPlainObject } from '../lib/helpers';\n\nexport default class Base {\n  static version = '0.3.0';\n\n  constructor({ debugMode = true, $el = $(document), instanceName = 'NormasApp', logging = {} }) {\n    this.instanceName = instanceName;\n    this.debugMode = debugMode;\n    this.logging = {\n      construct: this.constructor.readOption(logging, 'construct', true),\n    };\n    this.$el = $el;\n    this.el = $el[0];\n    this.log('info', 'construct',\n      ...this.constructor.logColor(`ðŸ—ï¸ \"${this.instanceName}\" %REPLACE%.`, 'constructed', 'green'));\n  }\n\n  $(...args) {\n    return this.$el.find(...args);\n  }\n\n  log(...args) {\n    if (!this.debugMode) return;\n    const method = ['table', 'warn', 'info'].includes(args[0]) ? args.shift() : 'log';\n    if (Object.keys(this.logging).includes(args[0]) && !this.logging[args.shift()]) return;\n    this.constructor.log(method, ...args);\n  }\n\n  error(...args) {\n    this.constructor.log('error', ...args);\n  }\n\n  // private\n\n  static log(method, ...args) {\n    if (console && console[method]) {\n      console[method](...args); // eslint-disable-line no-console\n    }\n  }\n\n  static logPlur(message, count) {\n    return message.replace('%COUNT%', count).replace('%S%', count === 1 ? '' : 's');\n  }\n\n  static logCycle(moveName, enter, intensity = 2) {\n    return this.logColor(\n      `${moveName} ${(enter ? '>' : '<').repeat(intensity)}`,\n      enter ? 'green' : 'red',\n    );\n  }\n\n  static logColor(template, colorText, color) {\n    if (!color) {\n      color = colorText;\n      colorText = null;\n    }\n    return this.logStyle(template, colorText, { color });\n  }\n\n  static logBold(template, boldText) {\n    return this.logStyle(template, boldText, { 'font-weight': 'bold' });\n  }\n\n  static logStyle(template, stylingReplace, style) {\n    if (isPlainObject(stylingReplace)) {\n      style = stylingReplace;\n      stylingReplace = null;\n    }\n    if (!stylingReplace) {\n      stylingReplace = template;\n      template = null;\n    }\n    const stylePairs = Object.entries(style);\n    const beginStyle = stylePairs.map(p => p.join(': ')).join('; ');\n    const endStyle = stylePairs.map(([k]) => [k, 'inherit'].join(': ')).join('; ');\n    stylingReplace = `%c${stylingReplace}%c`;\n    if (template) {\n      stylingReplace = template.replace('%REPLACE%', stylingReplace);\n    }\n    return [stylingReplace, beginStyle, endStyle];\n  }\n\n  static contentName($content) {\n    const content = $content[0];\n    const classList = content.classList ? Array.prototype.map.call(content.classList, className => className) : [];\n    return [content.tagName].concat(classList).join('.');\n  }\n}\n","import { isFunction, isPlainObject, debounce, flatten, groupByInArray } from '../lib/helpers';\n\nexport default Base => (class extends Base {\n  static readOption(object, key, defaultValue) {\n    return object && (key in object) ? object[key] : defaultValue;\n  }\n\n  constructor(options) {\n    super(options);\n    this.logging.events = this.constructor.readOption(options.logging, 'events', true);\n    this.logging.eventsDebounced = this.constructor.readOption(options.logging, 'eventsDebounced', true);\n    this.logging.eventsTable = this.constructor.readOption(options.logging, 'eventsTable', false);\n    if (this.debugMode && this.logging.events && this.logging.eventsDebounced) {\n      this.eventsLogBuffer = [];\n      this.logEventsDebounced = debounce(this.logEventsDebounced.bind(this), 20);\n    }\n    this.log('info', 'construct',\n      `ðŸš¦ \"${this.instanceName}\" events mixin activated.`,\n      'logging.events =', this.logging.events,\n      'logging.eventsDebounced =', this.logging.eventsDebounced,\n      'logging.eventsTable =', this.logging.eventsTable);\n  }\n\n  trigger(eventName, ...args) {\n    this.$el.trigger(eventName, args);\n  }\n\n  listenEvents(...args) {\n    return this.listenEventsOnElement(this.$el, ...args);\n  }\n\n  listenEventsOnElement($element, ...args) {\n    const listeningArgs = this.constructor.listeningArguments(...args);\n    if (this.debugMode && this.logging.events) {\n      this.logEvents($element, listeningArgs);\n    }\n    listeningArgs.forEach(({ events, selector, handle }) => {\n      $element.on(events, selector, handle);\n    });\n    return listeningArgs;\n  }\n  \n  forgetEvents(listeningArgs) {\n    this.forgetEventsOnElement(this.$el, listeningArgs);\n  }\n\n  forgetEventsOnElement($element, listeningArgs) {\n    this.logEventsOutput($element, listeningArgs, false);\n    listeningArgs.forEach(({ events, selector, handle }) => {\n      $element.off(events, selector, handle);\n    });\n  }\n\n  // private\n\n  logEvents($element, listeningArgs) {\n    if (this.logging.eventsDebounced) {\n      const element = $element[0];\n      listeningArgs.forEach(args => { args.element = element; });\n      this.eventsLogBuffer = this.eventsLogBuffer.concat(listeningArgs);\n      this.logEventsDebounced();\n    } else {\n      this.logEventsOutput($element, listeningArgs, true);\n    }\n  }\n\n  logEventsDebounced() {\n    const grouped = groupByInArray(this.eventsLogBuffer, 'element');\n    grouped.forEach(([element, listeningArgs]) => {\n      this.logEventsOutput($(element), listeningArgs, true);\n    });\n    this.eventsLogBuffer = [];\n  }\n\n  logEventsOutput($element, listeningArgs, enter) {\n    if (!this.logging.events) return;\n    const elementName = $element[0] === this.el ? this.instanceName : this.constructor.contentName($element);\n    const plurEvents = this.constructor.logPlur('event%S%', listeningArgs.length);\n    const [styledCount, ...countStyles] = this.constructor.logBold(listeningArgs.length);\n    const [cycleName, ...cycleStyles] = this.constructor.logCycle(enter ? 'listen on' : 'forget from', enter);\n    const [styledElementName, ...elementStyles] = this.constructor.logBold(elementName);\n    this.log('events',\n      `ðŸš¦ ${styledCount} ${plurEvents} ${cycleName} \"${styledElementName}\"`,\n      ...countStyles, ...cycleStyles, ...elementStyles,\n      $element, ...(this.logging.eventsTable ? [] : [listeningArgs]));\n    if (!this.logging.eventsTable) return;\n    this.log('table', listeningArgs.map(({ selector, events }) => ({ selector, events })));\n  }\n\n  static listeningArguments(selector, eventRule, handle) {\n    if (isPlainObject(selector)) {\n      eventRule = selector;\n      selector = '';\n    }\n\n    if (isFunction(eventRule)) {\n      handle = eventRule;\n      eventRule = selector;\n      selector = '';\n    }\n\n    if (isPlainObject(eventRule)) {\n      return flatten(Object.keys(eventRule).map((key) => {\n        let value = eventRule[key];\n        return isPlainObject(value) ?\n          this.listeningArguments(selector ? `${selector} ${key}` : key, value)\n          :\n          this.listeningArguments(selector, key, value);\n      }));\n    }\n\n    if (!isFunction(handle)) {\n      console.error(`handle isn't function in listening declaration! (selector: '${selector}')`); // eslint-disable-line no-console\n      return [];\n    }\n    if (!eventRule) {\n      console.error(`eventRule not defined! (selector: '${selector}')`); // eslint-disable-line no-console\n      return [];\n    }\n\n    const selectors = eventRule.split(/\\s+/);\n    const eventName = selectors[0];\n    selectors[0] = selector;\n\n    if (!eventName) {\n      console.error(`bad eventName in listening declaration! (selector: '${selector}')`); // eslint-disable-line no-console\n      return [];\n    }\n\n    return [{\n      events: eventName.replace(/\\//g, ' '),\n      selector: selectors.join(' ').trim(),\n      handle: (event, ...args) => handle($(event.currentTarget), event, ...args),\n    }];\n  }\n});\n","// require events mixin\nexport default Base => (class extends Base {\n  static contentEnterEventName = 'content:enter';\n  static contentLeaveEventName = 'content:leave';\n\n  static preventContentEventsClassName = 'js-prevent-normas';\n  static elementEnterTimeoutIdDataName = 'elementEnterTimeoutId';\n\n  constructor(options) {\n    super(options);\n    Object.assign(this.logging, {\n      content: this.constructor.readOption(options.logging, 'content', false),\n      element: this.constructor.readOption(options.logging, 'element', true),\n    });\n    this.log('info', 'construct',\n      `ðŸ“° \"${this.instanceName}\" content mixin activated.`,\n      'logging.content =', this.logging.content,\n      'logging.element =', this.logging.element);\n  }\n\n  listenToElement(selector, enter, leave = null, options = {}) {\n    const delay = options.delay || 0;\n    const silent = options.silent || false;\n    const contentEnter = this.constructor.makeElementContentEnter(this, selector, enter, delay, silent);\n    const contentLeave = this.constructor.makeElementContentLeave(this, selector, leave, delay, silent);\n    this.listenToContent(contentEnter, contentLeave);\n  }\n\n  listenToContent(enter, leave = null) {\n    if (enter) {\n      this.$el.on(this.constructor.contentEnterEventName, (event, $content) => enter($content, event));\n    }\n    if (leave) {\n      this.$el.on(this.constructor.contentLeaveEventName, (event, $content) => leave($content, event));\n    }\n  }\n\n  sayAboutContentEnter($content) {\n    $content = this.constructor.filterContent($content, 'normasEntered');\n    if ($content.length > 0) {\n      // ? $content.removeClass(this.constructor.preventContentEventsClassName);\n      this.logContent('enter', $content);\n      this.trigger(this.constructor.contentEnterEventName, $content);\n    }\n    return $content;\n  }\n\n  sayAboutContentLeave($content) {\n    $content = this.constructor.filterContent($content, 'normasLeft');\n    if ($content.length > 0) {\n      this.logContent('leave', $content);\n      this.trigger(this.constructor.contentLeaveEventName, $content);\n    }\n    return $content;\n  }\n\n  replaceContentInner($container, content) {\n    this.sayAboutContentLeave($container);\n    $container.html(content);\n    this.sayAboutContentEnter($container);\n  }\n\n  replaceContent($content, $newContent) {\n    if ($content.length > 1) {\n      $content = $content.first();\n    }\n    this.sayAboutContentLeave($content);\n    $content.replaceWith($newContent);\n    this.sayAboutContentEnter($newContent);\n  }\n\n  // private\n\n  logContent(logEvent, $content) {\n    const [eventName, ...eventStyles] = this.constructor.logCycle(logEvent, logEvent === 'enter');\n    const [contentName, ...contentStyles] = this.constructor.logBold(this.constructor.contentName($content));\n    this.log('content',\n      `ðŸ“° content ${eventName} \"${contentName}\"`,\n      ...eventStyles, ...contentStyles,\n      $content);\n  }\n\n  static makeElementContentEnter(instance, selector, enter, delay, silent) {\n    return $content => {\n      const $elements = this.contentElements($content, selector);\n      if ($elements.length === 0) {\n        return;\n      }\n      if (delay > 0) {\n        $elements.data(this.elementEnterTimeoutIdDataName, setTimeout(() => {\n          const $delayedElements = this.contentElements($content, $elements);\n          $delayedElements.removeData(this.elementEnterTimeoutIdDataName);\n          this.handleElements(instance, $delayedElements, selector, enter, 'enter', silent);\n        }, delay));\n      } else {\n        this.handleElements(instance, $elements, selector, enter, 'enter', silent);\n      }\n    };\n  }\n\n  static makeElementContentLeave(instance, selector, leave, delay, silent) {\n    if (!leave) {\n      return null;\n    }\n    return $content => {\n      let $elements = this.contentElements($content, selector);\n      if ($elements.length === 0) {\n        return;\n      }\n      if (delay > 0) {\n        $elements = $elements.filter$($element => !$element.data(this.elementEnterTimeoutIdDataName));\n      }\n      if ($elements.length === 0) {\n        return;\n      }\n      this.handleElements(instance, $elements, selector, leave, 'leave', silent);\n    };\n  }\n\n  static handleElements(instance, $elements, selector, handle, handleName, silent) {\n    $elements.each$($element => {\n      const prevent = this.preventEventForElement($element);\n      if (!silent) {\n        let preventInfo, styledHandleName, handleStyles;\n        const [elementName, ...elementStyles] = this.logBold(selector);\n        if (prevent) {\n          [preventInfo, ...handleStyles] = this.logColor('prevent ', 'blue');\n          styledHandleName = handleName;\n        } else {\n          preventInfo = '';\n          [styledHandleName, ...handleStyles] = this.logCycle(handleName, handleName === 'enter', 3);\n        }\n        instance.log('element',\n          `ðŸ’Ž ${preventInfo}element ${styledHandleName} \"${elementName}\"`,\n          ...handleStyles, ...elementStyles,\n          $element);\n      }\n      if (!prevent) {\n        handle($element);\n      }\n    });\n  }\n\n  static contentElements($content, selector) {\n    return $content.filter(selector).add($content.find(selector));\n  }\n\n  static preventEventForElement($element) {\n    return $element.closest(`.${this.preventContentEventsClassName}`).length > 0;\n  }\n\n  static filterContent($content, elementFlagName) {\n    return $content.filter((_index, element) => {\n      if (element[elementFlagName]) {\n        return false;\n      } else {\n        element[elementFlagName] = true;\n        return true;\n      }\n    });\n  }\n});\n","// require content mixin\nexport default Base => (class extends Base {\n  static pageEnterEventName = 'page:enter';\n  static pageLeaveEventName = 'page:leave';\n  static pageSelector = 'body';\n\n  constructor(options) {\n    super(options);\n    this.logging.navigation = this.constructor.readOption(options.logging, 'navigation', true);\n    this.bindPageEvents(options);\n    this.log('info', 'construct',\n      `ðŸ—º \"${this.instanceName}\" navigation mixin activated. logging.navigation =`, this.logging.navigation);\n  }\n\n  bindPageEvents(options) {\n    if (options.Turbolinks || global.Turbolinks) {\n      const turboNormasImportPath = `normas${process.env.NODE_ENV === 'development' ? '/src/js' : ''}`;\n      this.log('warn', 'construct',\n        `ðŸ—º You have Turbolinks and can use '${turboNormasImportPath}/normasWithTurbolinks' instead 'normas'.`);\n    }\n    $(this.pageEnter.bind(this));\n  }\n\n  listenToPage(enter, leave = null) {\n    if (enter) {\n      this.listenEvents(this.constructor.pageEnterEventName, enter);\n    }\n    if (leave) {\n      this.listenEvents(this.constructor.pageLeaveEventName, leave);\n    }\n  }\n\n  visit(location) {\n    window.location = location;\n  }\n\n  refreshPage() {\n    this.visit(window.location);\n  }\n\n  setHash(hash) {\n    location.hash = hash;\n  }\n\n  back() {\n    global.history.back();\n  }\n\n  replaceLocation(url) {\n    this.log('warn', 'ðŸ—º `replaceLocation` works only with Turbolinks.');\n  }\n\n  pushLocation(url, title = null, state = null) {\n    if (global.history) global.history.pushState(state, title, url);\n  }\n\n  sayAboutPageLoading(state) {\n    this.log('warn', 'ðŸ—º `sayAboutPageLoading` works only with Turbolinks.');\n  }\n\n  pageEnter() {\n    const $page = this.$page();\n    this.logPage('enter', $page);\n    this.trigger(this.constructor.pageEnterEventName, $page);\n    this.sayAboutContentEnter($page);\n  }\n\n  pageLeave() {\n    const $page = this.$page();\n    this.logPage('leave', $page);\n    this.sayAboutContentLeave($page);\n    this.trigger(this.constructor.pageLeaveEventName, $page);\n  }\n\n  $page() {\n    return this.$(this.constructor.pageSelector);\n  }\n\n  // private\n\n  logPage(logEvent, $page) {\n    const enter = logEvent === 'enter';\n    const [eventName, ...eventStyles] = this.constructor.logCycle(logEvent, enter, 10);\n    this.log('navigation', `ðŸ—º page ${eventName}`, ...eventStyles, ...(enter ? [window.location.href] : []), $page);\n  }\n});\n","import './lib/jqueryAdditions';\nimport NormasBase from './mixins/base';\nimport normasEvents from './mixins/events';\nimport normasContent from './mixins/content';\nimport normasNavigation from './mixins/navigation';\n\nconst Normas =\n  normasNavigation(\n    normasContent(\n      normasEvents(\n        NormasBase\n      )\n    )\n  );\n\nexport default Normas;\n","let initialMutations = true;\n\nexport default Base => (class extends Base {\n  constructor(options) {\n    super(options);\n    if (!this.enablings) this.enablings = {};\n    this.enablings.mutations = this.constructor.readOption(options.enablings, 'mutations', true);\n    this.log('info', 'construct',\n      ...this.constructor.logColor(`ðŸ¤– \"${this.instanceName}\" MutationObserver %REPLACE%.`,\n        this.enablings.mutations ? 'enabled' : 'disabled',\n        this.enablings.mutations ? 'green' : 'blue'));\n    if (this.enablings.mutations) {\n      if (MutationObserver) {\n        this.observeMutations();\n        this.log('construct', `ðŸ¤– \"${this.instanceName}\" mutation observer activated.`);\n      } else {\n        this.log('warn', 'construct', `ðŸ¤– \"${this.instanceName}\" mutation observer NOT SUPPORTED!`);\n      }\n    }\n  }\n\n  observeMutations() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n    this.mutationObserver = new MutationObserver(mutations => mutations.forEach(this.checkMutations));\n    this.mutationObserver.observe(this.$el[0], { childList: true, subtree: true });\n  }\n\n  checkMutations = (mutation) => {\n    if (mutation.type !== 'childList') {\n      return;\n    }\n\n    const removedNodes = this.constructor.filterMutationNodes(mutation.removedNodes);\n    const addedNodes = this.constructor.filterMutationNodes(mutation.addedNodes, true);\n\n    if (removedNodes.length > 0) {\n      this.sayAboutContentLeave($(removedNodes));\n    }\n    if (addedNodes.length > 0) {\n      this.sayAboutContentEnter($(addedNodes));\n    }\n  };\n\n  pageEnter() {\n    if (initialMutations) {\n      initialMutations = false;\n    }\n    super.pageEnter();\n  }\n\n  static filterMutationNodes(nodes, checkParentNode = false) {\n    return Array.prototype.filter.call(nodes, node => {\n      if (initialMutations) {\n        node.normasInitialMutationReady = true;\n        if (node.parentElement && node.parentElement.normasInitialMutationReady) {\n          return false;\n        }\n      }\n      return node.nodeType === 1 &&\n        !node.isPreview &&\n        !['TITLE', 'META'].includes(node.tagName) &&\n        node.className !== 'turbolinks-progress-bar' &&\n        !(checkParentNode && !node.parentElement) &&\n        !(node.parentElement && node.parentElement.tagName === 'HEAD');\n    });\n  }\n});\n","import { isFunction, isString, isPlainObject, mapValues } from './lib/helpers';\nimport NormasBase from './mixins/base';\nimport normasEvents from './mixins/events';\n\nexport default class extends normasEvents(NormasBase) {\n  // Override it with your own initialization logic (like componentDidUnmount in react).\n  initialize(options) {\n  }\n\n  // Override it with your own unmount logic (like componentWillUnmount in react).\n  terminate() {\n  }\n\n  // protected\n\n  constructor(options) {\n    Object.assign(options, options.$el.data());\n    super(options);\n    this.reflectOptions(options);\n    this.initializeEvents(options);\n    this.initialize(options);\n  }\n\n  destructor() {\n    this.log('info', 'construct',\n      ...this.constructor.logColor(`ðŸ—ï¸ \"${this.instanceName}\" %REPLACE%.`, 'destructing', 'red'));\n    this.terminate();\n    if (this.listenedEvents) {\n      this.forgetEvents(this.listenedEvents);\n      this.listenedEvents = null;\n    }\n  }\n\n  reflectOptions(options) {\n    Object.keys(options).forEach(attr => {\n      if (this.hasOwnProperty(attr)) {\n        this[attr] = options[attr];\n      }\n    });\n  }\n\n  initializeEvents(_options) {\n    const { events } = this.constructor;\n    if (events) {\n      if (!this.linkedEvents) {\n        this.linkedEvents = this.linkEvents(isFunction(events) ? events() : events);\n      }\n      this.listenedEvents = this.listenEvents(this.linkedEvents);\n    }\n  }\n\n  linkEvents(events) {\n    return mapValues(events, handle => isString(handle) ?\n      this[handle].bind(this)\n      :\n      (typeof isPlainObject(handle) ? this.linkEvents(handle) : handle)\n    );\n  }\n};\n","// TODO: may be rename Views, views, View, view\nimport { filter, find, without } from '../lib/helpers';\nimport View from '../view';\n\n// require content mixin\n// require events mixin\nexport default Base => (class extends Base {\n  View = View;\n  viewClasses = {};\n  viewInstances = [];\n\n  constructor(options) {\n    super(options);\n    this.viewOptions = {\n      debugMode: this.debugMode,\n      logging: { ...this.logging },\n      ...options.viewOptions,\n    };\n    this.log('info', 'construct', `ðŸ­ \"${this.instanceName}\" views mixin activated.`);\n  }\n\n  registerView(viewClass, options = {}) {\n    if (this.viewClasses[viewClass.selector]) {\n      this.error(`ðŸ­ View class for selector \\`${viewClass.selector}\\` already registered`,\n        this.viewClasses[viewClass.selector]);\n      return;\n    }\n    this.viewClasses[viewClass.selector] = viewClass;\n    this.listenToElement(\n      viewClass.selector,\n      $el => this.bindView($el, viewClass, options),\n      $el => this.unbindView($el, viewClass),\n      {\n        delay: viewClass.delay,\n        silent: true,\n      },\n    );\n  }\n\n  bindView($el, viewClass, options) {\n    if (!this.canBind($el, viewClass)) {\n      return null;\n    }\n    if (viewClass.instanceIndex) {\n      viewClass.instanceIndex += 1;\n    } else {\n      viewClass.instanceIndex = 1;\n    }\n    const view = new viewClass({\n      ...this.viewOptions,\n      ...options,\n      instanceName: `${viewClass.selector}_${viewClass.instanceIndex}`,\n      $el,\n    });\n    this.viewInstances.push(view);\n    return view;\n  }\n\n  canBind($element, viewClass) {\n    const view = this.getViewsOnElement($element, viewClass)[0];\n    if (view) {\n      this.log('warn', 'ðŸ­ Element already has bound view', $element, viewClass, view);\n      return false;\n    }\n    return true;\n  }\n\n  unbindView($element, viewClass) {\n    const view = this.getViewsOnElement($element, viewClass)[0];\n    if (view) {\n      view.destructor();\n      this.viewInstances = without(this.viewInstances, view);\n    }\n  }\n\n  getViewsOnElement($element, viewClass = null) {\n    const el = $element instanceof $ ? $element[0] : $element;\n    const filterOptions = { el };\n    if (viewClass) {\n      filterOptions.constructor = viewClass;\n    }\n    return filter(this.viewInstances, filterOptions);\n  }\n\n  getViewsInContainer($container, checkRoot = true) {\n    return filter(this.viewInstances, view =>\n      view.$el.closest($container).length > 0 && (checkRoot || view.el !== $container[0])\n    );\n  }\n\n  getAllViews(viewClass) {\n    return filter(this.viewInstances, { constructor: viewClass });\n  }\n\n  getFirstView(viewClass) {\n    return find(this.viewInstances, { constructor: viewClass });\n  }\n\n  getFirstChildView(viewClass) {\n    return find(this.viewInstances, view => view instanceof viewClass);\n  }\n});\n","/*!\n * Normas <https://github.com/evrone/normas>\n *\n * @license MIT\n * @copyright Dmitry Karpunin <koderfunk@gmail.com>, 2017-2018\n */\n\nimport MinimalNormas from './minimalNormas';\nimport normasMutations from './mixins/mutations';\nimport normasViews from './mixins/views';\n\nexport default\n  normasViews(\n    normasMutations(\n      MinimalNormas\n    )\n  );\n"],"names":["$","fn","each$","handle","each","index","element","filter$","filter","slideToggleByState","length","a","shift","slideDown","slideUp","slideToggle","focusToEnd","$this","first","is","focus","val","focusTo","caretPos","createTextRange","range","move","select","selectionStart","setSelectionRange","caretPosition","iCaretPos","oField","document","selection","oSel","createRange","moveStart","value","text","isObject","isArray","Array","isFunction","v","isString","debounce","func","wait","timeoutId","args","setTimeout","groupByInArray","array","key","reduce","grouped","item","groupKey","group","find","k","push","flatten","result","forEach","collection","conditions","filterBase","mapValues","object","iteratee","keys","without","values","includes","baseName","prototype","call","makeConditionsMatch","conditionsKeys","Object","filterMatch","undefined","Base","debugMode","$el","instanceName","logging","constructor","readOption","el","log","logColor","method","console","message","count","replace","moveName","enter","intensity","repeat","template","colorText","color","logStyle","boldText","stylingReplace","style","isPlainObject","stylePairs","entries","beginStyle","map","p","join","endStyle","$content","content","classList","className","tagName","concat","defaultValue","options","events","eventsDebounced","eventsTable","eventsLogBuffer","logEventsDebounced","bind","eventName","trigger","listenEventsOnElement","$element","listeningArgs","listeningArguments","logEvents","selector","on","forgetEventsOnElement","logEventsOutput","off","elementName","contentName","plurEvents","logPlur","logBold","styledCount","countStyles","logCycle","cycleName","cycleStyles","styledElementName","elementStyles","eventRule","error","selectors","split","trim","event","currentTarget","assign","leave","delay","silent","contentEnter","makeElementContentEnter","contentLeave","makeElementContentLeave","listenToContent","contentEnterEventName","contentLeaveEventName","filterContent","logContent","$container","sayAboutContentLeave","html","sayAboutContentEnter","$newContent","replaceWith","logEvent","eventStyles","contentStyles","instance","$elements","contentElements","data","elementEnterTimeoutIdDataName","$delayedElements","removeData","handleElements","handleName","prevent","preventEventForElement","preventInfo","styledHandleName","handleStyles","add","closest","preventContentEventsClassName","elementFlagName","_index","navigation","bindPageEvents","Turbolinks","global","turboNormasImportPath","process","env","NODE_ENV","pageEnter","listenEvents","pageEnterEventName","pageLeaveEventName","location","visit","window","hash","history","back","url","title","state","pushState","$page","logPage","pageSelector","href","Normas","normasNavigation","normasContent","normasEvents","NormasBase","initialMutations","mutation","type","removedNodes","filterMutationNodes","addedNodes","enablings","mutations","MutationObserver","observeMutations","mutationObserver","checkMutations","observe","childList","subtree","nodes","checkParentNode","normasInitialMutationReady","node","parentElement","nodeType","isPreview","reflectOptions","initializeEvents","initialize","terminate","listenedEvents","forgetEvents","hasOwnProperty","attr","_options","linkedEvents","linkEvents","babelHelpers.typeof","View","viewOptions","viewClass","viewClasses","listenToElement","bindView","unbindView","canBind","instanceIndex","view","viewInstances","getViewsOnElement","destructor","filterOptions","checkRoot","normasViews","normasMutations","MinimalNormas"],"mappings":"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"}