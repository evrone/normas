"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),o=function t(e,o,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,r)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(r):void 0},r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};module.exports=function(i){var s,a;return a=s=function(s){function a(){return t(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return r(a,i),e(a,[{key:"bindPageEvents",value:function(o){this.Turbolinks=o.Turbolinks||global.Turbolinks;var i=!!this.Turbolinks;this.enablings||(this.enablings={}),this.constructor.readOptions(this.enablings,o.enablings,{turbolinks:i}),this.enablings.turbolinks?(function(o){var i=function(i){function a(){return t(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return r(a,i),e(a,[{key:"render",value:function(t,e){var o=t.snapshot,r=t.error,n=t.isPreview;this.markAsPreview(n),o?this.renderSnapshot(o,n,e):this.renderError(r,e)}},{key:"renderSnapshot",value:function(t,e,r){var n=new s(this.getSnapshot(),o.Snapshot.wrap(t),e);n.delegate=this.delegate,n.render(r)}}]),a}(o.View);o.View=i;var s=function(e){function o(e,r,i){t(this,o);var s=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,r));return i&&(s.newBody=s.newBody.cloneNode(!0),s.newBody.isPreview=!0),s}return r(o,e),o}(o.SnapshotRenderer)}(this.Turbolinks),this.listenEvents(this.constructor.turboPageEnterEventName,this.pageEnter.bind(this)),this.listenEvents(this.constructor.turboPageLeaveEventName,this.pageLeave.bind(this)),o.Turbolinks&&o.Turbolinks.start()):$(this.pageEnter.bind(this))}},{key:"visit",value:function(t){this.enablings.turbolinks?this.Turbolinks.visit(t):o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"visit",this).call(this,t)}},{key:"setHash",value:function(t){if(this.enablings.turbolinks){var e=this.Turbolinks.controller;e.replaceHistoryWithLocationAndRestorationIdentifier(t,e.restorationIdentifier)}else o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setHash",this).call(this,t)}},{key:"replaceLocation",value:function(t){this.enablings.turbolinks?this.Turbolinks.controller.replaceHistoryWithLocationAndRestorationIdentifier(t):o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"replaceLocation",this).call(this,t)}},{key:"pushLocation",value:function(t){this.enablings.turbolinks?this.Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(t):o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"pushLocation",this).call(this,t)}},{key:"sayAboutPageLoading",value:function(t){if(this.enablings.turbolinks){var e=this.Turbolinks.controller.adapter.progressBar;t?(e.setValue(0),e.show()):e.hide()}else o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"sayAboutPageLoading",this).call(this,t)}}]),a}(),Object.defineProperty(s,"turboPageEnterEventName",{enumerable:!0,writable:!0,value:"turbolinks:load"}),Object.defineProperty(s,"turboPageLeaveEventName",{enumerable:!0,writable:!0,value:"turbolinks:before-cache"}),a};
//# sourceMappingURL=turbolinks.production.js.map
